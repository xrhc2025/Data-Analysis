(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var r=a(1),i=a.n(r),n=a(77),c=a.n(n),s=(a(98),a(113)),l=a(112),o=a(29);a(103);const{Content:m,Sider:p}=s.a;var d=function(){const[e,t]=Object(r.useState)(""),[a,n]=Object(r.useState)([]),[c,d]=Object(r.useState)([]);Object(r.useEffect)(()=>{(async e=>{try{const a=await fetch("http://82.156.195.106:7001/get_chart_data/"+e),r=await a.json();d(r||[]),t(e)}catch(a){console.error("Error fetching data:",a)}})("pie")},[]),Object(r.useEffect)(()=>{if(e){const e=u(c);n(e)}},[e]);const u=t=>{if(!t||!t.length)return[];switch(e){case"pie":case"bar":case"line":case"scatter":case"radar":case"path":case"funnel":case"pictorial_bar":return t.map(e=>({name:e.title,value:e.rating}));case"graph":const e=t.map(e=>({id:e.title,name:e.title,symbolSize:2*e.rating,category:e.genres.split(" ")[0]})),a=[];for(let t=0;t<e.length-1;t++)a.push({source:e[t].id,target:e[t+1].id});return{nodes:e,links:a};case"china_map":return t.filter(e=>"\u4e2d\u56fd"===e.countries).map(e=>({name:e.title,value:e.rating}));default:return t}};return Object(r.useEffect)(()=>{const t=o.a(document.getElementById("chart"));let r;switch(e){case"pie":r={tooltip:{trigger:"item"},series:[{type:"pie",data:a}]};break;case"bar":r={tooltip:{trigger:"axis"},xAxis:{data:a.map(e=>e.name)},yAxis:{},series:[{type:"bar",data:a.map(e=>e.value)}]};break;case"line":r={tooltip:{trigger:"axis"},xAxis:{data:a.map(e=>e.name)},yAxis:{},series:[{type:"line",data:a.map(e=>e.value)}]};break;case"china_map":o.b("china",{type:"FeatureCollection",features:a.features}),r={tooltip:{trigger:"item"},series:[{type:"map",map:"china",data:a}]};break;case"graph":r={tooltip:{},series:[{type:"graph",layout:"force",force:{repulsion:1e3},data:a.nodes,links:a.links}]};break;case"scatter":r={tooltip:{trigger:"item"},xAxis:{},yAxis:{},series:[{type:"scatter",data:a}]};break;case"radar":r={tooltip:{trigger:"item"},radar:{indicator:[{name:"A",max:100},{name:"B",max:100},{name:"C",max:100},{name:"D",max:100},{name:"E",max:100}]},series:[{type:"radar",data:a}]};break;case"path":r={tooltip:{trigger:"axis"},xAxis:{},yAxis:{},series:[{type:"line",data:a,symbol:"circle",symbolSize:10}]}}return r&&t.setOption(r),()=>{t.dispose()}},[a]),i.a.createElement(s.a,{style:{minHeight:"100vh"}},i.a.createElement(p,null,i.a.createElement(l.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["pie"]},i.a.createElement(l.a.Item,{key:"pie",onClick:()=>t("pie")},"\u997c\u56fe"),i.a.createElement(l.a.Item,{key:"bar",onClick:()=>t("bar")},"\u67f1\u72b6\u56fe"),i.a.createElement(l.a.Item,{key:"line",onClick:()=>t("line")},"\u6298\u7ebf\u56fe"),i.a.createElement(l.a.Item,{key:"graph",onClick:()=>t("graph")},"\u5173\u7cfb\u56fe\u8c31"),i.a.createElement(l.a.Item,{key:"scatter",onClick:()=>t("scatter")},"\u6563\u70b9\u56fe"),i.a.createElement(l.a.Item,{key:"radar",onClick:()=>t("radar")},"\u96f7\u8fbe\u56fe"),i.a.createElement(l.a.Item,{key:"path",onClick:()=>t("path")},"\u8def\u5f84\u56fe"))),i.a.createElement(s.a,{style:{background:"#f0f2f5"}},i.a.createElement(m,{style:{margin:"16px"}},i.a.createElement("div",{id:"chart",style:{width:"100%",height:"80vh"}}))))};c.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(d,null)))},90:function(e,t,a){e.exports=a(105)},98:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.7825812a.chunk.js.map